<!DOCTYPE html>

<!--
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebAssembly Example by ChatGPT</title>
</head>
<body>
    <h1>Running C code in a webpage with WebAssembly</h1>
    <script>
        // Load and run the WebAssembly module
        const wasmModule = new WebAssembly.Module(await fetch('example.wasm').then(response => response.arrayBuffer()));
        const instance = new WebAssembly.Instance(wasmModule);
        
        // Call the exported function
        instance.exports._main(); // "_main" is the name of the exported function from our C code
    </script>
</body>
</html>
-->

<!--
<html>
<head>
  <title>WebAssembly C Example</title>
  <script src="https://cdn.jsdelivr.net/npm/@assemblyscript/loader"></script>
  <script>
    // Load and run the WebAssembly module
    async function run() {
      const module = await WebAssembly.instantiateStreaming(fetch('example.wasm'));
      const result = module.instance.exports.main(); // Call the 'add' function exported from the C module
      console.log('Result:', result); // Print the result
    }
    run();
  </script>
</head>
<body>
  <p>this is normal text</p>
</body>
</html>
-->


<html>
<head>
  <title>WebAssembly C Example</title>
  <script>
    async function run() {
      const response = await fetch('example.wasm');
      const bytes = await response.arrayBuffer();
      const module = await WebAssembly.instantiate(bytes);
      const { add } = module.instance.exports;
      const result = add(3, 4);
      console.log('Result:', result);
    }
    run();
  </script>
</head>
<body>
    <p>this is normal text</p>
</body>
</html>